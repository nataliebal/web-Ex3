
@{
    ViewBag.Title = "lineDisplay";
}

<body background="~/export-map-share.png" style="background-size:100% 100%; background-attachment:fixed">
    <canvas id="myCanvas" style="border:1px;">
        <script>
            var canvas = document.getElementById("myCanvas");
            var ctx = canvas.getContext("2d")
            var lon = parseFloat(@ViewBag.lon);
            var lat = parseFloat(@ViewBag.lat);
              function setLon() {
              if (lon < 0)
                 lon = (canvas.width / 2) * (1 - Math.abs(lon) / 180)
              else
                 lon = (canvas.width / 2) * (1 + Math.abs(lon) / 180)
              }
              function setLat() {
                if (lat < 0)
              lat = (canvas.height / 2) * (1 - Math.abs(lat) / 90)
                else
              lat = (canvas.height / 2) * (1 + Math.abs(lat) / 90)
            }
            function drawLine(startX,startY,endX,endY) {
                ctx.beginPath();
                ctx.moveTo(startX, startY);
                ctx.lineTo(endX, endY);
                ctx.stroke();
            }
            setLon();
            setLat();
            function drawPoint() {
                ctx.beginPath();
                ctx.arc(parseFloat(lon), parseFloat(lat), 5, 10, 20 * Math.PI, false);
                ctx.fillStyle = "Red";
                ctx.fill();
            }
   
            drawPoint();
            var i = 0;
            var start = lon;
            var start2 = lat;         
            var end =lon ;
            var end2 = lat;
          //  while (true) {
                drawLine(start, start2, end, end2);
               // sleep(4);
                @*lon = parseFloat(@ViewBag.lon);
                lat = parseFloat(@ViewBag.lat);
                setLon();
                setLat();
                start = end;
                start2 =end2;
                end =lon;
                end2 =lat;
            }*@
        </script>
    </canvas>
</body>



